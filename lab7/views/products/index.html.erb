<p class="text-success"><%= notice %></p>

<h1><%= t("products.index.title") %></h1>

<%= link_to t("products.index.new_product"), new_product_path, class: "btn btn-success mb-3" %>

<table class="table table-striped">
  <thead>
    <tr>
      <th><%= t("products.index.table.name") %></th>
      <th><%= t("products.index.table.category") %></th>
      <th><%= t("products.index.table.quantity") %></th>
      <th><%= t("products.index.table.price") %></th>
      <th><%= t("products.index.table.actions") %></th>
    </tr>
  </thead>
  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.category&.name %></td>
        <td><%= product.quantity %></td>
        <td><%= product.price %></td>
        <td>
          <%= link_to t("common.show"), product_path(product), class: "btn btn-info btn-sm" %>
          <%= link_to t("common.edit"), edit_product_path(product), class: "btn btn-warning btn-sm" %>
          <%= link_to t("common.delete"), product_path(product),
                method: :delete,
                data: { confirm: t("common.confirm_delete") },
                class: "btn btn-danger btn-sm" %>
          <%= link_to t("products.index.movements"), product_movements_path(product), class: "btn btn-secondary btn-sm" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
